var at=Object.defineProperty;var Ie=Object.getOwnPropertySymbols;var ct=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;var Le=(H,p,k)=>p in H?at(H,p,{enumerable:!0,configurable:!0,writable:!0,value:k}):H[p]=k,de=(H,p)=>{for(var k in p||(p={}))ct.call(p,k)&&Le(H,k,p[k]);if(Ie)for(var k of Ie(p))ut.call(p,k)&&Le(H,k,p[k]);return H};var V=(H,p,k)=>new Promise((x,z)=>{var j=$=>{try{L(k.next($))}catch(M){z(M)}},G=$=>{try{L(k.throw($))}catch(M){z(M)}},L=$=>$.done?x($.value):Promise.resolve($.value).then(j,G);L((k=k.apply(H,p)).next())});(function(){"use strict";var H,p,k,x,z,j,G,L,$,M,oe,W={},he=[],Fe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Q=Array.isArray;function D(t,e){for(var n in e)t[n]=e[n];return t}function ie(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function qe(t,e,n){var i,r,o,_={};for(o in e)o=="key"?i=e[o]:o=="ref"?r=e[o]:_[o]=e[o];if(arguments.length>2&&(_.children=arguments.length>3?H.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)_[o]===void 0&&(_[o]=t.defaultProps[o]);return Y(t,_,i,r,null)}function Y(t,e,n,i,r){var o={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r==null?++k:r,__i:-1,__u:0};return r==null&&p.vnode!=null&&p.vnode(o),o}function F(t){return t.children}function J(t,e){this.props=t,this.context=e}function q(t,e){if(e==null)return t.__?q(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?q(t):null}function pe(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return pe(t)}}function fe(t){(!t.__d&&(t.__d=!0)&&x.push(t)&&!X.__r++||z!=p.debounceRendering)&&((z=p.debounceRendering)||j)(X)}function X(){for(var t,e,n,i,r,o,_,c=1;x.length;)x.length>c&&x.sort(G),t=x.shift(),c=x.length,t.__d&&(n=void 0,i=void 0,r=(i=(e=t).__v).__e,o=[],_=[],e.__P&&((n=D({},i)).__v=i.__v+1,p.vnode&&p.vnode(n),le(e.__P,n,i,e.__n,e.__P.namespaceURI,32&i.__u?[r]:null,o,r==null?q(i):r,!!(32&i.__u),_),n.__v=i.__v,n.__.__k[n.__i]=n,be(o,n,_),i.__e=i.__=null,n.__e!=r&&pe(n)));X.__r=0}function ve(t,e,n,i,r,o,_,c,u,a,h){var l,f,d,g,C,w,v,m=i&&i.__k||he,T=e.length;for(u=Ue(n,e,m,u,T),l=0;l<T;l++)(d=n.__k[l])!=null&&(f=d.__i==-1?W:m[d.__i]||W,d.__i=l,w=le(t,d,f,r,o,_,c,u,a,h),g=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&se(f.ref,null,d),h.push(d.ref,d.__c||g,d)),C==null&&g!=null&&(C=g),(v=!!(4&d.__u))||f.__k===d.__k?u=me(d,u,t,v):typeof d.type=="function"&&w!==void 0?u=w:g&&(u=g.nextSibling),d.__u&=-7);return n.__e=C,u}function Ue(t,e,n,i,r){var o,_,c,u,a,h=n.length,l=h,f=0;for(t.__k=new Array(r),o=0;o<r;o++)(_=e[o])!=null&&typeof _!="boolean"&&typeof _!="function"?(typeof _=="string"||typeof _=="number"||typeof _=="bigint"||_.constructor==String?_=t.__k[o]=Y(null,_,null,null,null):Q(_)?_=t.__k[o]=Y(F,{children:_},null,null,null):_.constructor===void 0&&_.__b>0?_=t.__k[o]=Y(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):t.__k[o]=_,u=o+f,_.__=t,_.__b=t.__b+1,c=null,(a=_.__i=Oe(_,n,u,l))!=-1&&(l--,(c=n[a])&&(c.__u|=2)),c==null||c.__v==null?(a==-1&&(r>h?f--:r<h&&f++),typeof _.type!="function"&&(_.__u|=4)):a!=u&&(a==u-1?f--:a==u+1?f++:(a>u?f--:f++,_.__u|=4))):t.__k[o]=null;if(l)for(o=0;o<h;o++)(c=n[o])!=null&&(2&c.__u)==0&&(c.__e==i&&(i=q(c)),ke(c,c));return i}function me(t,e,n,i){var r,o;if(typeof t.type=="function"){for(r=t.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=t,e=me(r[o],e,n,i));return e}t.__e!=e&&(i&&(e&&t.type&&!e.parentNode&&(e=q(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Oe(t,e,n,i){var r,o,_,c=t.key,u=t.type,a=e[n],h=a!=null&&(2&a.__u)==0;if(a===null&&c==null||h&&c==a.key&&u==a.type)return n;if(i>(h?1:0)){for(r=n-1,o=n+1;r>=0||o<e.length;)if((a=e[_=r>=0?r--:o++])!=null&&(2&a.__u)==0&&c==a.key&&u==a.type)return _}return-1}function ye(t,e,n){e[0]=="-"?t.setProperty(e,n==null?"":n):t[e]=n==null?"":typeof n!="number"||Fe.test(e)?n:n+"px"}function Z(t,e,n,i,r){var o,_;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||ye(t.style,e,"");if(n)for(e in n)i&&n[e]==i[e]||ye(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(L,"$1")),_=e.toLowerCase(),e=_ in t||e=="onFocusOut"||e=="onFocusIn"?_.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?i?n.u=i.u:(n.u=$,t.addEventListener(e,o?oe:M,o)):t.removeEventListener(e,o?oe:M,o);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n==null?"":n;break e}catch(c){}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ge(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=$++;else if(e.t<n.u)return;return n(p.event?p.event(e):e)}}}function le(t,e,n,i,r,o,_,c,u,a){var h,l,f,d,g,C,w,v,m,T,P,O,N,S,I,R,ue,A=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),o=[c=e.__e=n.__e]),(h=p.__b)&&h(e);e:if(typeof A=="function")try{if(v=e.props,m="prototype"in A&&A.prototype.render,T=(h=A.contextType)&&i[h.__c],P=h?T?T.props.value:h.__:i,n.__c?w=(l=e.__c=n.__c).__=l.__E:(m?e.__c=l=new A(v,P):(e.__c=l=new J(v,P),l.constructor=A,l.render=ze),T&&T.sub(l),l.state||(l.state={}),l.__n=i,f=l.__d=!0,l.__h=[],l._sb=[]),m&&l.__s==null&&(l.__s=l.state),m&&A.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=D({},l.__s)),D(l.__s,A.getDerivedStateFromProps(v,l.__s))),d=l.props,g=l.state,l.__v=e,f)m&&A.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),m&&l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(m&&A.getDerivedStateFromProps==null&&v!==d&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(v,P),e.__v==n.__v||!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(v,l.__s,P)===!1){for(e.__v!=n.__v&&(l.props=v,l.state=l.__s,l.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(B){B&&(B.__=e)}),O=0;O<l._sb.length;O++)l.__h.push(l._sb[O]);l._sb=[],l.__h.length&&_.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(v,l.__s,P),m&&l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(d,g,C)})}if(l.context=P,l.props=v,l.__P=t,l.__e=!1,N=p.__r,S=0,m){for(l.state=l.__s,l.__d=!1,N&&N(e),h=l.render(l.props,l.state,l.context),I=0;I<l._sb.length;I++)l.__h.push(l._sb[I]);l._sb=[]}else do l.__d=!1,N&&N(e),h=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++S<25);l.state=l.__s,l.getChildContext!=null&&(i=D(D({},i),l.getChildContext())),m&&!f&&l.getSnapshotBeforeUpdate!=null&&(C=l.getSnapshotBeforeUpdate(d,g)),R=h,h!=null&&h.type===F&&h.key==null&&(R=we(h.props.children)),c=ve(t,Q(R)?R:[R],e,n,i,r,o,_,c,u,a),l.base=e.__e,e.__u&=-161,l.__h.length&&_.push(l),w&&(l.__E=l.__=null)}catch(B){if(e.__v=null,u||o!=null)if(B.then){for(e.__u|=u?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,e.__e=c}else{for(ue=o.length;ue--;)ie(o[ue]);re(e)}else e.__e=n.__e,e.__k=n.__k,B.then||re(e);p.__e(B,e,n)}else o==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):c=e.__e=Be(n.__e,e,n,i,r,o,_,u,a);return(h=p.diffed)&&h(e),128&e.__u?void 0:c}function re(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(re)}function be(t,e,n){for(var i=0;i<n.length;i++)se(n[i],n[++i],n[++i]);p.__c&&p.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(o){o.call(r)})}catch(o){p.__e(o,r.__v)}})}function we(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Q(t)?t.map(we):D({},t)}function Be(t,e,n,i,r,o,_,c,u){var a,h,l,f,d,g,C,w=n.props||W,v=e.props,m=e.type;if(m=="svg"?r="http://www.w3.org/2000/svg":m=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),o!=null){for(a=0;a<o.length;a++)if((d=o[a])&&"setAttribute"in d==!!m&&(m?d.localName==m:d.nodeType==3)){t=d,o[a]=null;break}}if(t==null){if(m==null)return document.createTextNode(v);t=document.createElementNS(r,m,v.is&&v),c&&(p.__m&&p.__m(e,o),c=!1),o=null}if(m==null)w===v||c&&t.data==v||(t.data=v);else{if(o=o&&H.call(t.childNodes),!c&&o!=null)for(w={},a=0;a<t.attributes.length;a++)w[(d=t.attributes[a]).name]=d.value;for(a in w)if(d=w[a],a!="children"){if(a=="dangerouslySetInnerHTML")l=d;else if(!(a in v)){if(a=="value"&&"defaultValue"in v||a=="checked"&&"defaultChecked"in v)continue;Z(t,a,null,d,r)}}for(a in v)d=v[a],a=="children"?f=d:a=="dangerouslySetInnerHTML"?h=d:a=="value"?g=d:a=="checked"?C=d:c&&typeof d!="function"||w[a]===d||Z(t,a,d,w[a],r);if(h)c||l&&(h.__html==l.__html||h.__html==t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(l&&(t.innerHTML=""),ve(e.type=="template"?t.content:t,Q(f)?f:[f],e,n,i,m=="foreignObject"?"http://www.w3.org/1999/xhtml":r,o,_,o?o[0]:n.__k&&q(n,0),c,u),o!=null)for(a=o.length;a--;)ie(o[a]);c||(a="value",m=="progress"&&g==null?t.removeAttribute("value"):g!=null&&(g!==t[a]||m=="progress"&&!g||m=="option"&&g!=w[a])&&Z(t,a,g,w[a],r),a="checked",C!=null&&C!=t[a]&&Z(t,a,C,w[a],r))}return t}function se(t,e,n){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&e==null||(t.__u=t(e))}else t.current=e}catch(r){p.__e(r,n)}}function ke(t,e,n){var i,r;if(p.unmount&&p.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||se(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){p.__e(o,e)}i.base=i.__P=null}if(i=t.__k)for(r=0;r<i.length;r++)i[r]&&ke(i[r],e,n||typeof t.type!="function");n||ie(t.__e),t.__c=t.__=t.__e=void 0}function ze(t,e,n){return this.constructor(t,n)}function We(t,e,n){var i,r,o,_;e==document&&(e=document.documentElement),p.__&&p.__(t,e),r=(i=!1)?null:e.__k,o=[],_=[],le(e,t=e.__k=qe(F,null,[t]),r||W,W,e.namespaceURI,r?null:e.firstChild?H.call(e.childNodes):null,o,r?r.__e:e.firstChild,i,_),be(o,t,_)}H=he.slice,p={__e:function(t,e,n,i){for(var r,o,_;e=e.__;)if((r=e.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(t)),_=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,i||{}),_=r.__d),_)return r.__E=r}catch(c){t=c}throw t}},k=0,J.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=D({},this.state),typeof t=="function"&&(t=t(D({},n),this.props)),t&&D(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),fe(this))},J.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),fe(this))},J.prototype.render=F,x=[],j=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,G=function(t,e){return t.__v.__b-e.__v.__b},X.__r=0,L=/(PointerCapture)$|Capture$/i,$=0,M=ge(!1),oe=ge(!0);var Ke=0;function s(t,e,n,i,r,o){e||(e={});var _,c,u=e;if("ref"in u)for(c in u={},e)c=="ref"?_=e[c]:u[c]=e[c];var a={type:t,props:u,key:n,ref:_,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Ke,__i:-1,__u:0,__source:r,__self:o};if(typeof t=="function"&&(_=t.defaultProps))for(c in _)u[c]===void 0&&(u[c]=_[c]);return p.vnode&&p.vnode(a),a}var K,y,_e,Se,ee=0,He=[],b=p,Ce=b.__b,Ee=b.__r,$e=b.diffed,Te=b.__c,Ae=b.unmount,xe=b.__;function ae(t,e){b.__h&&b.__h(y,t,ee||e),ee=0;var n=y.__H||(y.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function E(t){return ee=1,Re(Me,t)}function Re(t,e,n){var i=ae(K++,2);if(i.t=t,!i.__c&&(i.__=[Me(void 0,e),function(c){var u=i.__N?i.__N[0]:i.__[0],a=i.t(u,c);u!==a&&(i.__N=[a,i.__[1]],i.__c.setState({}))}],i.__c=y,!y.__f)){var r=function(c,u,a){if(!i.__c.__H)return!0;var h=i.__c.__H.__.filter(function(f){return!!f.__c});if(h.every(function(f){return!f.__N}))return!o||o.call(this,c,u,a);var l=i.__c.props!==c;return h.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(l=!0)}}),o&&o.call(this,c,u,a)||l};y.__f=!0;var o=y.shouldComponentUpdate,_=y.componentWillUpdate;y.componentWillUpdate=function(c,u,a){if(this.__e){var h=o;o=void 0,r(c,u,a),o=h}_&&_.call(this,c,u,a)},y.shouldComponentUpdate=r}return i.__N||i.__}function te(t,e){var n=ae(K++,3);!b.__s&&Pe(n.__H,e)&&(n.__=t,n.u=e,y.__H.__h.push(n))}function Ve(t,e){var n=ae(K++,7);return Pe(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function U(t,e){return ee=8,Ve(function(){return t},e)}function je(){for(var t;t=He.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ne),t.__H.__h.forEach(ce),t.__H.__h=[]}catch(e){t.__H.__h=[],b.__e(e,t.__v)}}b.__b=function(t){y=null,Ce&&Ce(t)},b.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),xe&&xe(t,e)},b.__r=function(t){Ee&&Ee(t),K=0;var e=(y=t.__c).__H;e&&(_e===y?(e.__h=[],y.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(ne),e.__h.forEach(ce),e.__h=[],K=0)),_e=y},b.diffed=function(t){$e&&$e(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(He.push(e)!==1&&Se===b.requestAnimationFrame||((Se=b.requestAnimationFrame)||Ge)(je)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),_e=y=null},b.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ne),n.__h=n.__h.filter(function(i){return!i.__||ce(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],b.__e(i,n.__v)}}),Te&&Te(t,e)},b.unmount=function(t){Ae&&Ae(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{ne(i)}catch(r){e=r}}),n.__H=void 0,e&&b.__e(e,n.__v))};var De=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(i),De&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,35);De&&(e=requestAnimationFrame(n))}function ne(t){var e=y,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),y=e}function ce(t){var e=y;t.__c=t.__(),y=e}function Pe(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function Me(t,e){return typeof e=="function"?e(t):e}const Ne={apiKey:"",humanizerApiKey:"",selectedModel:"balanced",autoDetectQuestionType:!0,showExplanation:!0,showSolveButton:!0,autoSkipOnFinish:!1,autoPlayVideo:!1,autoSolve:!1};function Qe(){const[t,e]=E(Ne),[n,i]=E(!0);return te(()=>{chrome.storage.sync.get(Ne,o=>{e(o),i(!1)})},[]),{settings:t,updateSettings:o=>{const _=de(de({},t),o);return e(_),new Promise(c=>{chrome.storage.sync.set(_,c)})},loading:n}}function Ye(){const[t,e]=E([]),[n,i]=E(0);return te(()=>{chrome.storage.local.get({solveHistory:[]},o=>{e(o.solveHistory||[]),i((o.solveHistory||[]).length)})},[]),{history:t,count:n,clearHistory:()=>V(null,null,function*(){e([]),i(0),yield chrome.storage.local.set({solveHistory:[]})})}}function Je(){const[t,e]=E(0);return te(()=>{chrome.storage.sync.get({solvedCount:0,lastSolvedDate:""},n=>{const i=new Date().toDateString();n.lastSolvedDate===i?e(n.solvedCount):e(0)})},[]),{solvedCount:t}}function Xe(){return s(F,{children:[s("div",{class:"header",children:[s("div",{class:"logo",children:[s("span",{class:"logo-icon",children:"ðŸ¤–"}),s("span",{class:"logo-text",children:"Edgenuity AI"})]}),s("div",{class:"byotoken-badge",children:"BYOToken"})]}),s("div",{class:"byotoken-info",children:[s("span",{class:"info-icon",children:"ðŸ”"}),s("span",{children:"Bring Your Own Token - Your API key, your usage, your privacy"})]})]})}function Ze({solvedCount:t}){return s("div",{class:"stats-card",children:s("div",{class:"stat",children:[s("span",{class:"stat-value",children:t}),s("span",{class:"stat-label",children:"Solved Today"})]})})}function et(t){const e=new Date(t),n=new Date;return e.toDateString()===n.toDateString()?e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e.toLocaleDateString([],{month:"short",day:"numeric"})}function tt({visible:t,history:e,count:n,onClear:i,onSelectEntry:r}){return t?s("div",{class:"history-panel visible",children:[s("div",{class:"history-panel-header",children:[s("span",{children:"Recent Solves"}),s("button",{class:"clear-history-btn",title:"Clear History",onClick:i,children:"ðŸ—‘ï¸"})]}),s("div",{class:"history-list",children:e.length===0?s("div",{class:"history-empty",children:"No history yet"}):e.slice().reverse().slice(0,10).map(o=>s("div",{class:"history-item",onClick:()=>r(o),children:[s("div",{class:"history-item-time",children:[et(o.timestamp)," â€¢ ",o.model||"AI"]}),s("div",{class:"history-item-question",children:o.question})]},o.id))})]}):null}function nt({settings:t,onSettingsChange:e}){const[n,i]=E(!1),[r,o]=E(!1),_=[{key:"showSolveButton",label:"Show Solve Button"},{key:"autoDetectQuestionType",label:"Auto-detect question type"},{key:"showExplanation",label:"Show explanations"},{key:"autoSkipOnFinish",label:"Auto-skip on finish",hint:"Automatically go to next when video/question ends"},{key:"autoPlayVideo",label:"Auto-play videos",hint:"Automatically play videos on load (muted)"},{key:"autoSolve",label:"Auto-solve questions",hint:"Automatically solve questions when they load"}];return s(F,{children:[s("div",{class:"section",children:[s("label",{class:"section-label",children:[s("span",{class:"label-icon",children:"ðŸ”‘"}),"OpenRouter API Key"]}),s("div",{class:"input-group",children:[s("input",{type:n?"text":"password",value:t.apiKey,onInput:c=>e({apiKey:c.target.value}),placeholder:"sk-or-...",autocomplete:"off"}),s("button",{class:"toggle-visibility",title:"Show/Hide",onClick:()=>i(!n),children:n?"ðŸ™ˆ":"ðŸ‘ï¸"})]}),s("a",{href:"https://openrouter.ai/keys",target:"_blank",class:"help-link",children:"Get your API key â†’"})]}),s("div",{class:"section",children:[s("label",{class:"section-label",children:[s("span",{class:"label-icon",children:"âœ¨"}),"Humanizer API Key",s("span",{class:"optional-badge",children:"Optional"})]}),s("div",{class:"input-group",children:[s("input",{type:r?"text":"password",value:t.humanizerApiKey,onInput:c=>e({humanizerApiKey:c.target.value}),placeholder:"Your HumanizeAI key...",autocomplete:"off"}),s("button",{class:"toggle-visibility",title:"Show/Hide",onClick:()=>o(!r),children:r?"ðŸ™ˆ":"ðŸ‘ï¸"})]}),s("span",{class:"help-text",children:["Humanizes writing/essay answers only."," ",s("a",{href:"https://humanizeai.com",target:"_blank",class:"help-link",children:"Get API key â†’"})]})]}),s("div",{class:"section",children:[s("label",{class:"section-label",children:[s("span",{class:"label-icon",children:"âš™ï¸"}),"Settings"]}),_.map(({key:c,label:u,hint:a})=>s("div",{class:`toggle-row ${a?"auto-skip-row":""}`,children:[a?s("div",{class:"toggle-label-group",children:[s("span",{children:u}),s("span",{class:"toggle-hint",children:a})]}):s("span",{children:u}),s("label",{class:"toggle",children:[s("input",{type:"checkbox",checked:t[c],onChange:h=>e({[c]:h.target.checked})}),s("span",{class:"toggle-slider"})]})]},c))]})]})}const ot={balanced:{id:"google/gemini-2.5-flash-lite",name:"Balanced (Default)",description:"Fast & accurate for most questions",icon:"âš–ï¸"},writing:{id:"anthropic/claude-sonnet-4",name:"Writing Expert",description:"Essays, English, long-form writing",icon:"âœï¸"},reasoning:{id:"openai/gpt-4o",name:"Reasoning Pro",description:"Complex problems, logic, analysis",icon:"ðŸ§ "},deep:{id:"google/gemini-2.5-pro",name:"Deep Thinker",description:"Very complex problems, advanced reasoning",icon:"ðŸ”¬"},math:{id:"qwen/qwen3-235b-a22b",name:"Math Wizard",description:"Mathematics, calculations, STEM",icon:"ðŸ”¢"},fast:{id:"meta-llama/llama-4-maverick",name:"Speed Demon",description:"Fastest responses when time matters",icon:"âš¡"}};function it({selectedModel:t,onSelectModel:e}){return s("div",{class:"section",children:[s("label",{class:"section-label",children:[s("span",{class:"label-icon",children:"ðŸŽ¯"}),"AI Model"]}),s("div",{class:"model-grid",children:Object.entries(ot).map(([n,i])=>s("div",{class:`model-option ${n===t?"selected":""}`,onClick:()=>e(n),children:[s("span",{class:"model-icon",children:i.icon}),s("span",{class:"model-name",children:i.name}),s("span",{class:"model-desc",children:i.description})]},n))})]})}function lt(t){const e=new Date(t),n=new Date;return e.toDateString()===n.toDateString()?e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e.toLocaleDateString([],{month:"short",day:"numeric"})}function rt(t){return t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/`(.*?)`/g,"<code>$1</code>").replace(/\n/g,"<br>").replace(/^[-â€¢]\s+(.+)$/gm,"<li>$1</li>").replace(/^\d+\.\s+(.+)$/gm,"<li>$1</li>")}function st({entry:t,onClose:e,onCopy:n,copied:i}){return te(()=>{const o=_=>{_.key==="Escape"&&e()};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e]),t?s("div",{class:"answer-modal-overlay visible",onClick:o=>{o.target===o.currentTarget&&e()},children:s("div",{class:"answer-modal-content",children:[s("div",{class:"answer-modal-header",children:[s("span",{class:"answer-modal-title",children:"ðŸ¤– AI Answer"}),s("div",{class:"answer-modal-actions",children:[s("button",{class:`answer-modal-copy-btn ${i?"copied":""}`,title:"Copy answer",onClick:()=>n(t.answer),children:i?"âœ“":"ðŸ“‹"}),s("button",{class:"answer-modal-close-btn",title:"Close",onClick:e,children:"âœ•"})]})]}),s("div",{class:"answer-modal-body",children:[s("div",{class:"answer-modal-question-section",children:[s("div",{class:"answer-modal-section-label",children:"ðŸ“ Question"}),s("div",{class:"answer-modal-question",children:t.question})]}),s("div",{class:"answer-modal-answer-section",children:[s("div",{class:"answer-modal-section-label",children:"ðŸ’¡ Answer"}),s("div",{class:"answer-modal-answer",dangerouslySetInnerHTML:{__html:rt(t.answer)}})]})]}),s("div",{class:"answer-modal-footer",children:[s("span",{class:"answer-modal-model-info",children:t.model||"AI"}),s("span",{class:"answer-modal-time",children:lt(t.timestamp)})]})]})}):null}function _t(){const{settings:t,updateSettings:e,loading:n}=Qe(),{history:i,count:r,clearHistory:o}=Ye(),{solvedCount:_}=Je(),[c,u]=E(!1),[a,h]=E(null),[l,f]=E(!1),[d,g]=E(null),[C,w]=E(!1),v=U(()=>V(null,null,function*(){yield e(t),g("saved"),setTimeout(()=>g(null),1500)}),[t,e]),m=U(()=>V(null,null,function*(){yield v(),f(!0);try{const[S]=yield chrome.tabs.query({active:!0,currentWindow:!0});S!=null&&S.id&&chrome.tabs.sendMessage(S.id,{type:"SOLVE_QUESTION"},I=>{f(!1),chrome.runtime.lastError&&(console.error("Error:",chrome.runtime.lastError),alert("Please navigate to an Edgenuity page first!"))})}catch(S){console.error("Error solving:",S),f(!1)}}),[v]),T=U(S=>{e(S)},[e]),P=U(S=>{e({selectedModel:S})},[e]),O=U(()=>{confirm("Clear all history?")&&o()},[o]),N=U(S=>V(null,null,function*(){try{yield navigator.clipboard.writeText(S),w(!0),setTimeout(()=>w(!1),1500)}catch(I){console.error("Failed to copy:",I)}}),[]);return n?s("div",{class:"popup-container",children:"Loading..."}):s("div",{class:"popup-container",children:[s(Xe,{}),s("button",{class:`solve-now-btn ${l?"loading":""}`,onClick:m,disabled:l,children:[s("span",{class:"solve-icon",children:"ðŸ¤–"}),s("span",{class:"solve-text",children:l?"Solving":"Solve Current Question"})]}),s(Ze,{solvedCount:_}),s("button",{class:"history-btn",onClick:()=>u(!c),children:[s("span",{class:"history-icon",children:"ðŸ“š"}),s("span",{class:"history-text",children:"View History"}),s("span",{class:"history-count",children:r})]}),s(tt,{visible:c,history:i,count:r,onClear:O,onSelectEntry:h}),s(nt,{settings:t,onSettingsChange:T}),s(it,{selectedModel:t.selectedModel,onSelectModel:P}),s("div",{class:"save-btn-wrapper",children:s("button",{class:`save-btn ${d==="saved"?"saved":""}`,onClick:v,children:[s("span",{class:"save-text",children:"Save Settings"}),s("span",{class:"save-icon",children:"âœ“"})]})}),s("div",{class:"footer",children:s("span",{children:"Powered by OpenRouter"})}),s(st,{entry:a,onClose:()=>h(null),onCopy:N,copied:C})]})}We(s(_t,{}),document.getElementById("app"))})();
